<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sending Transactions | ZilPay</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="ZilPay Developer Documentation">
    
    <link rel="preload" href="/assets/css/0.styles.d4a37618.css" as="style"><link rel="preload" href="/assets/js/app.7ed7238a.js" as="script"><link rel="preload" href="/assets/js/2.9199c605.js" as="script"><link rel="preload" href="/assets/js/12.11d7caca.js" as="script"><link rel="prefetch" href="/assets/js/10.ed92f5ce.js"><link rel="prefetch" href="/assets/js/11.5c3f1982.js"><link rel="prefetch" href="/assets/js/13.a66f199a.js"><link rel="prefetch" href="/assets/js/14.15f17814.js"><link rel="prefetch" href="/assets/js/15.59aed640.js"><link rel="prefetch" href="/assets/js/16.4ca102e6.js"><link rel="prefetch" href="/assets/js/17.ef223637.js"><link rel="prefetch" href="/assets/js/3.ff26ccfb.js"><link rel="prefetch" href="/assets/js/4.e05c873c.js"><link rel="prefetch" href="/assets/js/5.33233bc0.js"><link rel="prefetch" href="/assets/js/6.498ab014.js"><link rel="prefetch" href="/assets/js/7.def13ea8.js"><link rel="prefetch" href="/assets/js/8.681ac8e7.js"><link rel="prefetch" href="/assets/js/9.0593b565.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d4a37618.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ZilPay</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="https://zilpay.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ZilPay
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/zilpay/zil-pay" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><a href="https://zilpay.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ZilPay
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/zilpay/zil-pay" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>General</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting-started/" class="sidebar-link">Getting Started</a></li><li><a href="/common-terms/" class="sidebar-link">Common Terms</a></li><li><a href="/initializing-dapps/" class="sidebar-link">Initializing Dapps</a></li><li><a href="/accessing-accounts/" class="sidebar-link">Accessing Accounts</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API Reference</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sending-transactions"><a href="#sending-transactions" class="header-anchor">#</a> Sending Transactions</h1> <p>Transactions are a formal action on a blockchain. They are always initiated in ZilPay with a call to the <code>createTransaction, contract.deploy, contract.call</code> method. They can involve a simple sending of zil, may result in sending tokens, creating a new smart contract, or changing state on the blockchain in any number of ways. They are always initiated by a signature from an <em>external account</em>, or a simple key pair.</p> <p>In ZilPay, using the <code>window.zilPay.wallet.sign</code> method to sign transactions.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> zilliqa <span class="token operator">=</span> window<span class="token punctuation">.</span>zilPay<span class="token punctuation">;</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> zilPay<span class="token punctuation">.</span>utils<span class="token punctuation">;</span>

<span class="token keyword">const</span> amount <span class="token operator">=</span> utils<span class="token punctuation">.</span>units<span class="token punctuation">.</span><span class="token function">toQa</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> utils<span class="token punctuation">.</span>units<span class="token punctuation">.</span>Units<span class="token punctuation">.</span>Zil<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10 zil</span>
<span class="token keyword">const</span> gasPrice <span class="token operator">=</span> utils<span class="token punctuation">.</span>units<span class="token punctuation">.</span><span class="token function">toQa</span><span class="token punctuation">(</span><span class="token string">'1000'</span><span class="token punctuation">,</span> utils<span class="token punctuation">.</span>units<span class="token punctuation">.</span>Units<span class="token punctuation">.</span>Li<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> txParams <span class="token operator">=</span> zilliqa<span class="token punctuation">.</span>transactions<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// Create params for our trasnaction.</span>
	toAddr<span class="token operator">:</span> <span class="token string">'zil1wl38cwww2u3g8wzgutxlxtxwwc0rf7jf27zace'</span><span class="token punctuation">,</span>
	amount<span class="token operator">:</span> amount<span class="token punctuation">,</span>
	gasPrice<span class="token operator">:</span> gasPrice
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> txResult <span class="token operator">=</span> <span class="token keyword">await</span> zilliqa<span class="token punctuation">.</span>blockchain<span class="token punctuation">.</span><span class="token function">createTransaction</span><span class="token punctuation">(</span>txParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// if user rejected this transaction or other problem.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Do not forget that if you change the <code>window.zilPay.wallet.broadcasting</code> parameter to <code>true</code>, than ZilPay return signature trasnaction but don't send to blockchain!!!</p> <h2 id="transaction-parameters"><a href="#transaction-parameters" class="header-anchor">#</a> Transaction Parameters</h2> <p>Many transaction parameters are handled for you by ZilPay, but it's good to know what all the parameters do.</p> <h3 id="nonce-ignored"><a href="#nonce-ignored" class="header-anchor">#</a> nonce [ignored]</h3> <p>This field is ignored by ZilPay.</p> <p>In Zilliqa every transaction has a nonce. This is so that each transaction can only be processed by the blockchain once. Additionally, to be a valid transaction, the nonce must either be <code>0</code>, or a transaction with the previous number must have already been processed.</p> <p>That means that transactions are always processed in order for a given account, and so incrementing nonces is a very sensitive matter that is easy to mess up, especially when a user is interacting with multiple applications with pending transactions using the same account, potentially across multiple devices.</p> <p>For these reasons, ZilPay currently does not provide application developers any way to customize the nonce of transactions it suggests, and instead assists the user in managing their transaction queue themselves.</p> <h3 id="gasprice-semi-optional"><a href="#gasprice-semi-optional" class="header-anchor">#</a> gasPrice [semi-optional]</h3> <p>Optional parameter - best used on private blockchains.</p> <p>In Zilliqa, the pool of pending transactions offer their gas price as a sort of auction bid to the validators to include this transaction in a block in exchange for a transaction fee. That means high gas prices can mean faster processing, but also more expensive transactions.</p> <p>ZilPay helps users select competitive gas prices in the Zilliqa core network and popular test networks. Allow users to choose by themselves.</p> <p>We cannot know about the gas market on all blockchains because it requires some deep analysis. For this reason, while you can safely ignore this parameter on our main hosted networks, you may want to suggest a gas price in situations where your application knows more about the target network than we do.</p> <h3 id="gaslimit-semi-optional"><a href="#gaslimit-semi-optional" class="header-anchor">#</a> gasLimit [semi-optional]</h3> <p><code>gasLimit</code> is a complicated parameter to substitute for it will be difficult therefore Dapps developers must calculate it themselves for their smart contract</p> <h3 id="toaddr-semi-optional"><a href="#toaddr-semi-optional" class="header-anchor">#</a> toAddr [semi-optional]</h3> <p>A <code>bech32, base16</code> Zilliqa address. Required for transactions with a recipient (all transactions except for contract creation).</p> <p>Contract creation occurs when there is no <code>to</code> value but there is a <code>data, code</code> value.</p> <h3 id="amount-semi-optional"><a href="#amount-semi-optional" class="header-anchor">#</a> amount [semi-optional]</h3> <p>Please note that these numbers often used in Zilliqa are far higher precision than native JavaScript numbers, and can cause unpredictable behavior if not anticipated. For this reason, we highly recommend using <a href="https://github.com/indutny/bn.js/" target="_blank" rel="noopener noreferrer">BN.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> when manipulating values intended for the blockchain.</p> <h3 id="data-semi-optional"><a href="#data-semi-optional" class="header-anchor">#</a> data [semi-optional]</h3> <p>Required for smart contract creation.</p> <p>This field is also used for specifying contract methods and their parameters.</p> <h3 id="code-semi-optional"><a href="#code-semi-optional" class="header-anchor">#</a> code [semi-optional]</h3> <p>Required for smart contract creation.</p> <p>This field is smart contract code.</p> <h3 id="version-currently-ignored"><a href="#version-currently-ignored" class="header-anchor">#</a> version [currently ignored]</h3> <p>Version ID is currently derived by the user's current selected network at <code>window.zilPay.wallet.net</code>. In the future we will probably allow a way to connect to multiple networks at once, at which point this parameter will become important, so it may be useful to be in the habit of including now.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/3/2021, 11:44:27 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7ed7238a.js" defer></script><script src="/assets/js/2.9199c605.js" defer></script><script src="/assets/js/12.11d7caca.js" defer></script>
  </body>
</html>
